(function(t){function e(e){for(var n,s,i=e[0],l=e[1],c=e[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("ce5b"),o=a.n(r),s=(a("bf40"),a("bc3a")),i=a.n(s),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""}},[a("v-tab",{attrs:{to:"/"}},[t._v("模型配置")]),a("v-tab",{attrs:{to:"/train"}},[t._v("模型训练")]),a("v-tab",{attrs:{to:"/predict"}},[t._v("模型预测")])],1)]},proxy:!0}])},[t._v(" 代码漏洞误报检测系统 ")]),a("v-content",{attrs:{app:""}},[a("router-view")],1)],1)},c=[],u={name:"App"},p=u,d=a("2877"),h=Object(d["a"])(p,l,c,!1,null,null,null),v=h.exports,f=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"CNN"},model:{value:t.cnn,callback:function(e){t.cnn=e},expression:"cnn"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"LSTM"},model:{value:t.lstm,callback:function(e){t.lstm=e},expression:"lstm"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"DeepWalk+GCN"},model:{value:t.deepwalk,callback:function(e){t.deepwalk=e},expression:"deepwalk"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-checkbox",{attrs:{label:"Paragraph2Vec+GCN"},model:{value:t.para2vec,callback:function(e){t.para2vec=e},expression:"para2vec"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-select",{attrs:{items:t.featureItems,label:"特征向量大小",dense:"",outlined:""},model:{value:t.featureSize,callback:function(e){t.featureSize=e},expression:"featureSize"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{rules:t.numberRules,label:"训练次数",dense:"",outlined:""},model:{value:t.epochNum,callback:function(e){t.epochNum=e},expression:"epochNum"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-btn",{attrs:{color:"primary",dense:""},on:{click:t.finish}},[t._v("配置完成")])],1)],1)],1)},b=[],g={name:"ConfigPage",data:function(){return{cnn:!1,lstm:!1,deepwalk:!1,para2vec:!1,featureItems:[8,16,32],featureSize:16,epochNum:10,numberRules:[function(t){return!!t||"请输入数字"},function(t){return isFinite(t)||"必须输入数字"}]}},methods:{finish:function(){var t=this,e=[];this.cnn&&e.push("cnn"),this.lstm&&e.push("lstm"),this.deepwalk&&e.push("deepwalk"),this.para2vec&&e.push("para2vec"),0!==e.length&&this.$http.post("/addModel",{models:e,featureSize:this.featureSize,epochNum:this.epochNum}).then((function(){t.$router.push({path:"/train"})}))}}},x=g,y=Object(d["a"])(x,m,b,!1,null,"7d22686c",null),w=y.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-data-table",{attrs:{headers:t.headers,items:t.desserts,"items-per-page":10},scopedSlots:t._u([{key:"item.state",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{color:t.getColor(n.state),outlined:""}},[t._v(t._s(n.state))])]}},{key:"item.actions",fn:function(e){var n=e.item;return["未训练"===n.state?a("v-btn",{attrs:{color:"primary",dense:"",outlined:""},on:{click:function(e){return t.train(n)}}},[t._v("开始训练")]):t._e(),"已训练"===n.state?a("v-btn",{attrs:{color:"primary",dense:"",outlined:""},on:{click:function(e){return e.stopPropagation(),t.showDetail(n)}}},[t._v("查看详情")]):t._e()]}}])})],1)],1),a("v-dialog",{attrs:{width:"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-4"}},[a("v-container",[a("v-row",[a("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"chart"}})]),a("v-row",[a("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"val_chart"}})])],1)],1),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" 关闭 ")])],1)],1)},k=[],S=(a("b0c0"),{name:"TrainPage",data:function(){return{headers:[{text:"模型名称",value:"name",sortable:!0},{text:"向量大小",value:"featureSize",sortable:!1},{text:"训练轮次",value:"epochNum",sortable:!1},{text:"状态",value:"state",sortable:!1},{text:"操作",value:"actions",sortable:!1}],desserts:[],dialog:!1}},methods:{loadTable:function(){var t=this;this.$http.get("/trainList").then((function(e){t.desserts=e.data}))},getColor:function(t){switch(t){case"未训练":return"red";case"进行中":return"orange";case"已训练":return"green"}},train:function(t){var e=this;t.state="进行中",this.$http.post("/train",t).then((function(){e.loadTable()}))},showDetail:function(t){var e=this;this.dialog=!0;var n=a("313e");this.$http.post("/detail",t).then((function(a){var r=a.data,o={title:{text:t["name"]},xAxis:{type:"value"},yAxis:{type:"value",min:0,max:1},series:[]};o.series.push(e.toSeries(r["loss"])),o.series.push(e.toSeries(r["accuracy"])),n.init(document.getElementById("chart")).setOption(o),o.series=[],o.series.push(e.toSeries(r["val_loss"])),o.series.push(e.toSeries(r["val_accuracy"])),n.init(document.getElementById("val_chart")).setOption(o)}))},toSeries:function(t){for(var e=[],a=0;a<t.length;a++)e.push([a+1,t[a]]);return{data:e,type:"line",smooth:!0}}},created:function(){this.loadTable()}}),O=S,P=Object(d["a"])(O,_,k,!1,null,"328b88be",null),j=P.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-data-table",{attrs:{headers:t.headers,items:t.desserts,"items-per-page":10,loading:t.loadFlag,"loading-text":"正在处理中……"},scopedSlots:t._u([{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary",disabled:t.predictButton,outlined:""},on:{click:t.predict}},[t._v("开始预测")])]},proxy:!0}])})],1)],1)],1)},N=[],T=(a("d3b7"),{name:"PredictPage",data:function(){return{headers:[{text:"文件名",value:"name",sortable:!0}],desserts:[],loadFlag:!1,predictButton:!1}},methods:{predict:function(){var t=this;this.loadFlag=!0,this.predictButton=!0,this.$http.post("/predict").then((function(e){t.desserts=e.data})).finally((function(){t.loadFlag=!1}))}},created:function(){var t=this;this.$http.get("/modelName").then((function(e){for(var a=0;a<e.data.length;a++)t.headers.push({text:e.data[a],value:e.data[a],sortable:!1})}))}}),C=T,z=Object(d["a"])(C,$,N,!1,null,"3a49cba6",null),E=z.exports;n["default"].use(f["a"]);var M=[{path:"/",name:"ConfigPage",component:w},{path:"/train",name:"TrainPage",component:j},{path:"/predict",name:"PredictPage",component:E}],B=new f["a"]({routes:M}),F=B;n["default"].config.productionTip=!1,n["default"].use(o.a),n["default"].prototype.$http=i.a,i.a.defaults.baseURL="http://127.0.0.1:8080/api",i.a.defaults.headers.post["Content-Type"]="application/json",new n["default"]({router:F,vuetify:new o.a({}),render:function(t){return t(v)}}).$mount("#app")}});
//# sourceMappingURL=app.8f014c5e.js.map