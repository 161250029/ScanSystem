webpackJsonp([1],{"GXL/":function(a,e){},NHnr:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("7+uW"),n={render:function(){var a=this.$createElement,e=this._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=t("VU/8")(null,n,!1,function(a){t("Yqh0")},null,null).exports,o=t("5inH"),r=t("d7EF"),s=t.n(r),d=(t("Xu0s"),{name:"App",data:function(){return{activeName:"first",tableData:[{id:"2016-05-03",size:"王小虎",mode:"上海"}],form:{name:"test",region:"",delivery:"",desc:""},drawer:!1,codearea:"",curbug:{id:"",path:""},curindex:0,bugs:[],type:[{value:"daohang",label:"Security",children:[{value:"cexiangdaohang",label:"QBA_QUESTIONABLE_BOOLEAN_ASSIGNMENT"},{value:"dingbudaohang",label:"RV_REM_OF_RANDOM_INT"},{value:"cexiangdaohang",label:"RANGE_ARRAY_INDEX"},{value:"dingbudaohang",label:"DM_STRING_CTOR"},{value:"cexiangdaohang",label:"RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE"},{value:"dingbudaohang",label:"PT_ABSOLUTE_PATH_TRAVERSAL"},{value:"cexiangdaohang",label:"NP_NULL_ON_SOME_PATH_EXCEPTION"},{value:"dingbudaohang",label:"ST_WRITE_TO_STATIC_FROM_INSTANCE_METHOD"},{value:"cexiangdaohang",label:"SIC_INNER_SHOULD_BE_STATIC_ANON"},{value:"dingbudaohang",label:"HRS_REQUEST_PARAMETER_TO_HTTP_HEADER"}]},{value:"daohang",label:"Experimental",children:[{value:"cexiangdaohang",label:"FI_EXPLICIT_INVOCATION"},{value:"dingbudaohang",label:"XSS_SERVLET"},{value:"cexiangdaohang",label:"DMI_CONSTANT_DB_PASSWORD"},{value:"dingbudaohang",label:"INT_BAD_COMPARISON_WITH_INT_VALUE"},{value:"cexiangdaohang",label:"LDAP_INJECTION"},{value:"dingbudaohang",label:"RR_NOT_CHECKED"},{value:"cexiangdaohang",label:"UNSAFE_HASH_EQUALS"},{value:"dingbudaohang",label:"OBJECT_DESERIALIZATION"},{value:"cexiangdaohang",label:"PADDING_ORACLE"},{value:"dingbudaohang",label:"OS_OPEN_STREAM_EXCEPTION_PATH"}]},{value:"daohang",label:"Bad practice",children:[{value:"cexiangdaohang",label:"NP_GUARANTEED_DEREF"},{value:"dingbudaohang",label:"SQL_PREPARED_STATEMENT_GENERATED_FROM_NONCONSTANT_STRING"},{value:"cexiangdaohang",label:"IL_INFINITE_RECURSIVE_LOOP"},{value:"dingbudaohang",label:"UC_USELESS_OBJECT"},{value:"cexiangdaohang",label:"UC_USELESS_CONDITION_TYPE"},{value:"dingbudaohang",label:"RCN_REDUNDANT_NULLCHECK_OF_NULL_VALUE"},{value:"cexiangdaohang",label:"INT_VACUOUS_COMPARISON"},{value:"dingbudaohang",label:"BC_UNCONFIRMED_CAST_OF_RETURN_VALUE"},{value:"cexiangdaohang",label:"PATH_TRAVERSAL_IN"},{value:"dingbudaohang",label:"UL_UNRELEASED_LOCK_EXCEPTION_PATH"}]},{value:"daohang",label:"Correctness",children:[{value:"cexiangdaohang",label:"UPM_UNCALLED_PRIVATE_METHOD"},{value:"dingbudaohang",label:"HARD_CODE_PASSWORD"},{value:"cexiangdaohang",label:"DMI_INVOKING_TOSTRING_ON_ARRAY"},{value:"dingbudaohang",label:"ECB_MODE"},{value:"cexiangdaohang",label:"ES_COMPARING_STRINGS_WITH_EQ"},{value:"dingbudaohang",label:"NP_ALWAYS_NULL"},{value:"cexiangdaohang",label:"SWL_SLEEP_WITH_LOCK_HELD"},{value:"dingbudaohang",label:"DB_DUPLICATE_BRANCHES"},{value:"cexiangdaohang",label:"DMI_HARDCODED_ABSOLUTE_FILENAME"},{value:"dingbudaohang",label:"ODR_OPEN_DATABASE_RESOURCE"}]},{value: 'daohang',label: 'None',children: [{value: 'cexiangdaohang', label: 'None'}]}]}},mounted:function(){var a=this;this.$ajax.get("/getstatics").then(function(e){for(var t=e.data,l=new Array,n=0;n<t.length;n++)l[n]={value:t[n].num,name:t[n].typename};var i={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",y:"bottom",data:l},series:[{name:"Bug类型",type:"pie",radius:"55%",center:["80%","40%"],data:l,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};a.$echarts.init(document.getElementById("main")).setOption(i)});this.$ajax.get("/getgroups").then(function(e){var t=e.data;a.tableData=t})},methods:{starttag:function(a,e){var t=this;console.log("test button"+a);this.$ajax.get("/getbugs",{params:{id:a}}).then(function(a){var e=a.data;t.bugs=e,t.curindex=0,t.setNewBug(e,t.curindex),t.activeName="third"})},setNewBug:function(a,e){var t=this;if(console.log("setnewbug!"),e!=a.length){this.curbug=this.bugs[e];var l=this.curbug.id;this.form.name=l;var n=this.curbug.code.replace(/\\/g,"/").split("Desktop")[1];n=this.curbug.code;this.$ajax.get("/getcode",{params:{id:l,path:n}}).then(function(a){var e=a.data;t.codearea=e}),this.form.desc="",this.form.delivery="",this.form.region=""}else this.activeName="first"},onSubmit:function(){var a=this;console.log("submit!");var e=this.curbug.id,t=this.form.region.split("|"),l=s()(t,2),n=(l[0],l[1]),i=this.$refs.cascaderAddr.getCheckedNodes()[0].label;alert(i);var o=i,r=this.form.desc;this.$ajax.get("/submitbug",{params:{id:e,type:o,level:n,comments:r}}).then(function(e){console.log("success submit"),console.log("comment: "+r),a.curindex=a.curindex+1,a.setNewBug(a.bugs,a.curindex)})}}}),c={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("el-tabs",{model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"查看扫描结果",name:"first"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,"max-height":"250"}},[t("el-table-column",{attrs:{fixed:"",prop:"id",label:"编号",width:"150"}}),a._v(" "),t("el-table-column",{attrs:{prop:"size",label:"漏洞数量",width:"120"}}),a._v(" "),t("el-table-column",{attrs:{prop:"mode",label:"常见类型",width:"400"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),a.starttag(e.$index,a.tableData)}}},[a._v("\n            开始标注\n          ")])]}}])})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"查看统计图表",name:"second"}},[t("div",[t("div",{staticStyle:{width:"800px",height:"450px"},attrs:{id:"main"}})])]),a._v(" "),t("el-tab-pane",{attrs:{label:"众包工作界面",name:"third"}},[t("div",{staticClass:"box"},[t("div",{staticClass:"left-box"},[t("el-divider"),a._v(" "),t("el-form",{ref:"form",attrs:{model:a.form,"label-width":"200px"}},[t("el-form-item",{attrs:{label:"漏洞编号"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{disabled:!0,align:"left"},model:{value:a.form.name,callback:function(e){a.$set(a.form,"name",e)},expression:"form.name"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"威胁等级"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择威胁等级",align:"left"},model:{value:a.form.region,callback:function(e){a.$set(a.form,"region",e)},expression:"form.region"}},[t("el-option",{attrs:{label:"微小",value:"1"}}),a._v(" "),t("el-option",{attrs:{label:"中等",value:"2"}}),a._v(" "),t("el-option",{attrs:{label:"严重",value:"3"}})],1)],1),a._v(" "),t("el-form-item",{attrs:{label:"漏洞类型"}},[t("el-cascader",{ref:"cascaderAddr",staticStyle:{width:"400px"},attrs:{options:a.type,align:"left","show-all-levels":!1},model:{value:a.form.delivery,callback:function(e){a.$set(a.form,"delivery",e)},expression:"form.delivery"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"相关备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:a.form.desc,callback:function(e){a.$set(a.form,"desc",e)},expression:"form.desc"}})],1),a._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:a.onSubmit}},[a._v("提交")])],1)],1)],1),a._v(" "),t("div",{staticClass:"right-box"},[t("el-input",{attrs:{type:"textarea",rows:15,disabled:!0,placeholder:""},model:{value:a.codearea,callback:function(e){a.codearea=e},expression:"codearea"}})],1)])])],1)},staticRenderFns:[]};var u=t("VU/8")(d,c,!1,function(a){t("fPj1")},null,null).exports,_={name:"App",data:function(){return{fileList:[],activeName:"first",filepath:"",tabletitle:"",dir_path:"",spot_path:"",find_path:"",projectname:"",tableData:[{date:"2016-05-03",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-02",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-04",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-01",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-08",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-06",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333},{date:"2016-05-07",name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333}]}},methods:{handleClick:function(a,e){var t=this;if(a.name.toString().trim()=="first".trim()){var l="/autoscan";this.$ajax.get(l,{params:{jarpath:"/root/upload/CWE259_Hard_Coded_Password/CWE259_Hard_Coded_Password.jar"}}).then(function(a){t.spot_path=a.data.spot_path,t.find_path=a.data.find_path;t.$ajax.get("/dealdata",{params:{spot_path:t.spot_path,find_path:t.find_path,dirpath:t.dir_path,jarpath:t.filepath}}).then(function(a){})})}if(a.name.toString().trim()=="second".trim()){l="/loaddata";this.$ajax.get(l,{params:{jarpath:"/root/upload/CWE259_Hard_Coded_Password/CWE259_Hard_Coded_Password.jar"}}).then(function(a){var e=a.data.data;t.tableData=e})}if(a.name.toString().trim()=="third".trim()){l="/getdata";this.$ajax.get(l,{params:{jarpath:"/root/upload/CWE259_Hard_Coded_Password/CWE259_Hard_Coded_Password.jar"}}).then(function(a){for(var e=a.data.type,l=a.data.count,n=[],i=0;i<e.length;i++){var o=new Object;o.value=l[i],o.name=e[i],n.push(o)}var r={title:{text:"CWE259_Hard_Coded_Password漏洞类别统计图",x:"center",y:"bottom"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:e},series:[{name:"Bug类型",type:"pie",radius:"55%",center:["50%","60%"],data:n,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.$echarts.init(document.getElementById("main")).setOption(r)})}},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(a,e){console.log(a,e)},handlePreview:function(a){console.log(a)},handleSuccess:function(a,e,t){this.filepath=a.msg.split("#")[0],this.projectname=a.msg.split("#")[1],this.dir_path=a.msg.split("#")[2]},deleteRow:function(a,e){e.splice(a,1)},handleSlice:function(a,e){var t=this;this.$ajax.get("/showslice",{params:{jarpath:this.filepath,methodname:e.methodName,classname:e.className,linenumber:e.start,filepath:e.file_path}}).then(function(a){var e=a.data,l="";l=(l+="<strong>这是 <i>扫描定位</i> 片段:</strong>")+"<div>"+e[e.length-1]+"</div>",l+="<strong>这是 <i>切片</i> 结果:</strong>";for(var n=0;n<e.length;n++)l=l+"<div>"+e[n]+"</div>";t.$alert(l,"内容详情",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0}),console.log(a.data.length),console.log(a)})}}},h={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("el-tabs",{on:{"tab-click":a.handleClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"上传文件",name:"first"}},[t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/upload/","on-preview":a.handlePreview,"on-remove":a.handleRemove,"on-success":a.handleSuccess,"file-list":a.fileList,"auto-upload":!1}},[t("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[a._v("选取文件")]),a._v(" "),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:a.submitUpload}},[a._v("上传到服务器")]),a._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a._v("只能上传zip文件，且不超过500kb")])],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"查看扫描结果",name:"second"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,"max-height":"400"}},[t("el-table-column",{attrs:{fixed:"",prop:"id",label:"漏洞ID",width:"150"}}),a._v(" "),t("el-table-column",{attrs:{prop:"sourceFile",label:"漏洞源文件",width:"300"}}),a._v(" "),t("el-table-column",{attrs:{prop:"level",label:"漏洞等级",width:"120"}}),a._v(" "),t("el-table-column",{attrs:{prop:"methodName",label:"漏洞方法",width:"120"}}),a._v(" "),t("el-table-column",{attrs:{prop:"toolName",label:"扫描工具",width:"300"}}),a._v(" "),t("el-table-column",{attrs:{prop:"start",label:"漏洞定位",width:"120"}}),a._v(" "),t("el-table-column",{attrs:{prop:"bugType",label:"漏洞类型",width:"200"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return a.handleSlice(e.$index,e.row)}}},[a._v("查看切片结果")])]}}])})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"查看统计图表",name:"third"}},[t("div",[t("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"main"}})])]),a._v(" "),t("el-tab-pane",{attrs:{label:"相似度检测",name:"forth"}},[t("router-link",{attrs:{to:"/start"}},[a._v("相似度检测")])],1)],1)},staticRenderFns:[]};var p=t("VU/8")(_,h,!1,function(a){t("iodh")},null,null).exports;l.default.use(o.a);var g=new o.a({routes:[{path:"/start",name:"HelloWorld",component:u},{path:"/",name:"Home",component:p}]}),m=t("I29D"),b=t.n(m),v=t("c+XW"),f=t.n(v),E=(t("GXL/"),t("WCPx")),N=t.n(E);l.default.prototype.$echarts=N.a,l.default.use(f.a),l.default.prototype.$ajax=b.a,l.default.config.productionTip=!1,new l.default({router:g,render:function(a){return a(i)}}).$mount("#app")},Yqh0:function(a,e){},fPj1:function(a,e){},iodh:function(a,e){}},["NHnr"]);
//# sourceMappingURL=app.3bc13f6ad399c20e3a08.js.map